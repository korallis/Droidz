---
description: Generate project-specific validation workflow by detecting available tools
---

# /validate-init - Smart Validation Setup

Detects available tools in your project and generates a custom validation workflow.

## Detection Phase

Checking for available tools...

### Linters
!`command -v eslint >/dev/null 2>&1 && echo "✓ ESLint detected" || echo "⚠ ESLint not found"`

### Type Checkers  
!`command -v tsc >/dev/null 2>&1 && echo "✓ TypeScript detected" || echo "⚠ TypeScript not found"`

### Formatters
!`command -v prettier >/dev/null 2>&1 && echo "✓ Prettier detected" || echo "⚠ Prettier not found"`

!`test -f .prettierrc && echo "✓ Prettier config found" || true`

### Test Frameworks
!`command -v jest >/dev/null 2>&1 && echo "✓ Jest detected" || echo "⚠ Jest not found"`

!`command -v vitest >/dev/null 2>&1 && echo "✓ Vitest detected" || true`

!`command -v playwright >/dev/null 2>&1 && echo "✓ Playwright detected" || true`

---

## Generating Validation Workflow

Creating `.factory/commands/validate.md`...

!`cat > .factory/commands/validate.md << 'VEOF'
---
description: Run validation checks (auto-generated by /validate-init)
---

# Project Validation

VEOF
`

### Phase 1: Linting

!`command -v eslint >/dev/null 2>&1 && cat >> .factory/commands/validate.md << 'EOF' && echo "✓ Added linting"
## Phase 1: Linting ✓
!\`npm run lint\`

EOF
`

### Phase 2: Type Checking

!`command -v tsc >/dev/null 2>&1 && cat >> .factory/commands/validate.md << 'EOF' && echo "✓ Added type checking"
## Phase 2: Type Checking ✓
!\`npx tsc --noEmit\`

EOF
`

### Phase 3: Style Checking

!`command -v prettier >/dev/null 2>&1 && cat >> .factory/commands/validate.md << 'EOF' && echo "✓ Added style checking"
## Phase 3: Style Checking ✓
!\`npx prettier --check .\`

EOF
`

### Phase 4: Unit Tests

!`command -v jest >/dev/null 2>&1 && cat >> .factory/commands/validate.md << 'EOF' && echo "✓ Added unit tests"
## Phase 4: Unit Tests ✓
!\`npm test\`

EOF
`

!`command -v vitest >/dev/null 2>&1 && command -v jest >/dev/null 2>&1 || command -v vitest >/dev/null 2>&1 && cat >> .factory/commands/validate.md << 'EOF' && echo "✓ Added unit tests (vitest)"
## Phase 4: Unit Tests ✓
!\`npm test\`

EOF
`

### Phase 5: E2E Tests

!`command -v playwright >/dev/null 2>&1 && cat >> .factory/commands/validate.md << 'EOF' && echo "✓ Added E2E tests"
## Phase 5: E2E Tests ✓
!\`npx playwright test\`

EOF
`

### Finalize

!`cat >> .factory/commands/validate.md << 'EOF'
---

✅ All validation complete!

**Note:** Commands use \`npx\` to auto-install if needed.
EOF
`

✅ **Validation workflow created!**

Run `/validate` to test it.

**To customize:** Edit `.factory/commands/validate.md` directly.
