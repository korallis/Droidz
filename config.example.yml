version: 1.0.0

# Droidz Configuration Template
# Spec-driven development with parallel execution for Droid CLI
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to 'config.yml': cp config.example.yml config.yml
# 2. Add your API keys in config.yml (or use environment variables)
# 3. Never commit config.yml to git (it should be in .gitignore)

# Profile to use (default includes planning, spec, implementation workflows)
profile: default

# Enable Droid CLI custom droids installation
install_droids: true

# Use Exa for research during planning and specification
# ENABLED: MCP tools are now available via custom droids
use_exa_research: true

# Use Ref for documentation lookup
# ENABLED: MCP tools are now available via custom droids
use_ref_docs: true

# MCP Tools Configuration
# MCP (Model Context Protocol) servers extend droid capabilities
# NOTE: MCP servers are configured per-user via Factory CLI, not here!
# 
# To add MCP servers (Linear, Exa, Ref, etc.):
#   1. Start Factory: droid
#   2. Add server: /mcp add --type http <name> <url> -H "Authorization: Bearer <key>"
#   3. Verify: /mcp list
#
# See MCP_SETUP.md for detailed instructions
#
# Once configured, MCP tools become available to ALL droids automatically:
# - Linear: Issue tracking (linear___list_issues, linear___update_issue, etc.)
# - Exa: AI search (exa___web_search_exa, exa___get_code_context_exa)
# - Ref: Documentation (ref___ref_search_documentation, ref___ref_read_url)
#
# MCP servers are OPTIONAL - Droidz works without them using helper scripts
mcp_tools_enabled: true  # Enable MCP support in Factory

# API Keys Configuration
# IMPORTANT: Add your actual API keys in config.yml (not this template file!)
# You can use environment variables or paste keys directly

# Linear Integration (Optional - for automated ticket processing)
# Get your API key from: https://linear.app/settings/api
# Get your team ID from your Linear workspace URL or API
linear:
  api_key: "${LINEAR_API_KEY}"  # Environment variable or paste your key here
  team_id: ""  # Your Linear team ID (e.g., "abc123def456")
  update_comments: true  # Post PR links as comments on tickets
  auto_status_updates: true  # Automatically update ticket status

# Exa AI Search (Optional - for AI-powered web and code search)
# Get your API key from: https://exa.ai/api-keys
# Exa provides intelligent search optimized for AI agents
exa:
  api_key: "${EXA_API_KEY}"  # Environment variable or paste your key here
  enabled: true  # Enable Exa search for research and documentation

# Ref Documentation Search (Optional - for documentation lookup)
# Get your API key from: https://ref.sh/api
# Ref provides access to public and private documentation
ref:
  api_key: "${REF_API_KEY}"  # Environment variable or paste your key here
  enabled: true  # Enable Ref for documentation searches

# Parallel execution settings (CORE FEATURE - DO NOT DISABLE)
# This is what makes Droidz 3-5x faster than sequential AI development
parallel:
  enabled: true  # REQUIRED: Keep this true to enable parallel workers
  max_concurrent_tasks: 5  # DEFAULT: 5 workers (Range: 2-10)
                          # Increase to 8-10 for large features with many independent tasks
                          # Decrease to 2-3 only if tasks are tightly coupled

# Git workspace configuration
workspace:
  base_dir: ".runs"  # Directory for isolated workspaces
  branch_pattern: "feature/{issueKey}-{slug}"  # Branch naming pattern
  mode: worktree  # RECOMMENDED: worktree (enables true parallel execution)
              # worktree = isolated git working trees (fastest, safest)
              # clone = full repo copies (slower, more disk space)
              # branch = shadow copies (no git isolation, use as last resort)
              # ALWAYS use 'worktree' unless git worktrees are not supported

# Safety guardrails
guardrails:
  tests_required: true  # Require tests to pass before PRs
  secret_scan: true  # Scan for secrets before commits
  lint_on_change: false  # Run linter on changed files

# Standards enforcement
standards:
  enforce_before_implementation: true
  auto_inject_into_prompts: true
